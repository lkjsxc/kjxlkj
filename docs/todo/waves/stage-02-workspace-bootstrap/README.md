# Stage 02: Notes and Realtime Core

Back: [/docs/todo/waves/README.md](/docs/todo/waves/README.md)

## Relevant Documents

- [/docs/spec/domain/notes.md](/docs/spec/domain/notes.md)
- [/docs/spec/domain/events.md](/docs/spec/domain/events.md)
- [/docs/spec/domain/metadata.md](/docs/spec/domain/metadata.md)
- [/docs/spec/domain/search.md](/docs/spec/domain/search.md)
- [/docs/spec/api/http.md](/docs/spec/api/http.md)
- [/docs/spec/api/websocket.md](/docs/spec/api/websocket.md)

## Stage Objective

Implement notes/event-stream core with deterministic HTTP and WebSocket replay
semantics.

## Ordered Wave Checklist

- [x] restructure-step S02-W020: complete note lifecycle and history baseline in [wave-020.md](wave-020.md)
- [x] restructure-step S02-W021: complete realtime patch/replay semantics in [wave-021.md](wave-021.md)
- [x] restructure-step S02-W022: complete metadata/search/attachment support in [wave-022.md](wave-022.md)

## Stage Exit Checklist

- [x] restructure-step S02-EXIT-01: notes and events follow [/docs/spec/domain/notes.md](/docs/spec/domain/notes.md) and [/docs/spec/domain/events.md](/docs/spec/domain/events.md)
- [x] restructure-step S02-EXIT-02: replay/idempotency follows [/docs/spec/api/websocket.md](/docs/spec/api/websocket.md)
- [x] restructure-step S02-EXIT-03: search and metadata align with [/docs/spec/domain/search.md](/docs/spec/domain/search.md) and [/docs/spec/domain/metadata.md](/docs/spec/domain/metadata.md)
